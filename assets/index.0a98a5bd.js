import{r as w,w as V,u as q,c as y,o as I,a as L,d as j,s as S,b as C,e as i,f as D,g as v,h as T,i as u,j as g,t as h,k as U,v as M,l as E,m as $,F,n as H,p as W,q as P,x as R,y as J}from"./vendor.c3ce467c.js";const K=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}};K();const B=(e,o={})=>{const n=JSON.parse(localStorage.getItem(e)||"null"),a=w(n||o);return V(a,t=>{localStorage.setItem(e,JSON.stringify(t))},{deep:!0}),{storage:a}},G=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),Y=()=>{const{setColors:e}=q(),{storage:o}=B("theme",{isDark:G()}),n=y({get(){return o.value.isDark},set(l){o.value.isDark=l}}),a=()=>{n.value=!0;const l="#292928",d="#1f201e",m="#ffffff";e({primary:"#5650cb",secondary:"#592bf6",background:d,success:"#00aa61",info:"#9a9ea1",danger:"#f51500",warning:"#e5cc00",gray:"#5650cb",dark:m,white:l,divider:l,"card-background":l,"card-color":m,"modal-dialog-background":l,"dropdown-content-background":d,"dropdown-content-text":m,"select-dropdown-background":d,"select-dropdown-text":m})},t=()=>{n.value=!1;const l="#fffeff",d="#e1e7f2",m="#010b0b";e({primary:"#592bf6",secondary:"#3567ad",background:d,success:"#00aa61",info:"#35a5db",danger:"#f51500",warning:"#e5cc00",gray:"#592bf6",dark:m,white:l,divider:l,"card-background":l,"card-color":m,"modal-dialog-background":l,"dropdown-content-background":d,"dropdown-content-text":m,"select-dropdown-background":d,"select-dropdown-text":m})},s=()=>n.value?t():a(),c=y(()=>n.value?["#007EA7","#63326E","#306B34","#2B50AA","#D44D5C","#7D70BA","#BC4B51"]:["#4cc9f0","#ffc6ff","#06d6a0","#4ea8de","#f9c74f","#bdb2ff","#ffc6ff"]);return n.value?a():t(),{isDark:n,toggle:s,toDark:a,toWhite:t,clockColors:c}},Q=(e,o)=>{let n=-1;I(()=>{n=setInterval(e,o)}),L(()=>{clearInterval(n)})},z=j("main",{state:()=>({nowTimeOffset:0})}),Z=()=>{const e=w(new Date),o=z(),{nowTimeOffset:n}=S(o);return n.value=e.value.getHours(),Q(()=>{e.value=new Date,e.value.setHours(n.value)},1e3),{now:e}},A=(e,o=!1)=>o===!0?e.toLocaleTimeString("en-US"):e.toLocaleTimeString("en-GB"),k=(e,o)=>{const n=new Date;return n.setTime(e.getTime()+o*1e3*60),n};var O=(e,o)=>{const n=e.__vccOpts||e;for(const[a,t]of o)n[a]=t;return n};const X=C({props:{modelValue:{type:Boolean,required:!0},offset:{type:Number,required:!0},ampm:{type:Boolean,required:!0}},setup(e){const o=w(new Date),n=w(k(o.value,e.offset));return{urTime:o,cardTime:n,onUrTimeUpdate:()=>{n.value=k(o.value,e.offset)},onCardTimeUpdate:()=>{o.value=k(n.value,-e.offset)},resetTimes:()=>{o.value=new Date,n.value=k(o.value,e.offset)}}}});function x(e,o,n,a,t,s){const c=i("va-time-input"),l=i("va-modal");return T(),D(l,{"model-value":e.modelValue,title:"Time calculator","cancel-text":"","onUpdate:modelValue":o[2]||(o[2]=d=>e.$emit("update:model-value",d)),onBeforeOpen:e.resetTimes},{default:v(()=>[u(c,{label:"Your time",modelValue:e.urTime,"onUpdate:modelValue":[o[0]||(o[0]=d=>e.urTime=d),e.onUrTimeUpdate],class:"mb-2","manual-input":"",ampm:e.ampm,clearable:"","clear-value":new Date},null,8,["modelValue","ampm","clear-value","onUpdate:modelValue"]),u(c,{label:"Card time",modelValue:e.cardTime,"onUpdate:modelValue":[o[1]||(o[1]=d=>e.cardTime=d),e.onCardTimeUpdate],"manual-input":"",ampm:e.ampm},null,8,["modelValue","ampm","onUpdate:modelValue"])]),_:1},8,["model-value","onBeforeOpen"])}var ee=O(X,[["render",x]]);const oe=C({components:{CalculateTimeZoneModal:ee},props:{name:{type:String,default:"Unknown"},timezone:{type:Object,required:!0},color:{type:String},ampm:{type:Boolean,default:!1}},setup(e){const o=w(!1),n=new Date().getTimezoneOffset(),a=y(()=>e.timezone.currentTimeOffsetInMinutes+n),{now:t}=Z();return{nowDateWithOffset:y(()=>k(t.value,a.value)),timeZoneOffset:a,doShowCalculateModal:o,formatDate:A}}}),te={class:"display-2"},ne={class:"d-flex align--center justify--space-between"},ae={class:"title"};function le(e,o,n,a,t,s){const c=i("va-divider"),l=i("va-button"),d=i("CalculateTimeZoneModal"),m=i("va-card-content"),r=i("va-hover"),p=i("va-card");return T(),D(p,{class:"time-zone-card",color:e.color,gradient:"",onClick:o[3]||(o[3]=_=>e.doShowCalculateModal=!0),"text-color":"dark"},{default:v(()=>[u(r,{stateful:""},{default:v(({hover:_})=>[u(m,null,{default:v(()=>[g("h3",te,h(e.formatDate(e.nowDateWithOffset,e.ampm)),1),u(c),g("div",ne,[g("span",null,h(e.name),1),g("p",null,[g("span",ae,"Offset "+h(e.timeZoneOffset/60)+"h",1)])]),U(u(l,{class:"time-zone-card__delete-button",icon:"cancel",flat:"",color:"danger",onClick:o[0]||(o[0]=b=>e.$emit("delete"))},null,512),[[M,_]]),U(u(l,{class:"time-zone-card__calculate-button",flat:"",icon:"schedule",color:"info",onClick:o[1]||(o[1]=b=>e.doShowCalculateModal=!0)},null,512),[[M,_]]),u(d,{modelValue:e.doShowCalculateModal,"onUpdate:modelValue":o[2]||(o[2]=b=>e.doShowCalculateModal=b),offset:e.timeZoneOffset,ampm:e.ampm},null,8,["modelValue","offset","ampm"])]),_:2},1024)]),_:1})]),_:1},8,["color"])}var re=O(oe,[["render",le],["__scopeId","data-v-930c7e9c"]]);const se=C({props:{modelValue:{type:Boolean,required:!0}},setup(e,{emit:o}){const n=w(),a=E(),t=w({name:"",filterOffset:"",timezone:null}),s=()=>{t.value.timezone&&(o("create",t.value),o("update:modelValue",!1))},c=()=>{o("update:modelValue",!1)},l=()=>{t.value={name:"",filterOffset:"",timezone:null}};V(()=>e.modelValue,r=>{r&&l()});const d=r=>{const p=r.name.replace(/_/g," ");return`[${r.currentTimeFormat.match(/(?:\+|\-)[0-9]{2}:[0-9]{2}/)[0]}] ${p}`},m=y(()=>t.value.filterOffset?a.filter(r=>r.currentTimeOffsetInMinutes===Number(t.value.filterOffset)*60):a);return V(()=>t.value.timezone,r=>{!t.value.name&&r&&(t.value.name=r.name.replace(/_/g," ").split("/")[1])}),{computedTimeZones:m,form:n,formData:t,onOk:s,onCancel:c,onBeforeOpen:l,textBy:d}}});function de(e,o,n,a,t,s){const c=i("va-input"),l=i("va-select"),d=i("va-form"),m=i("va-modal");return T(),D(m,{"model-value":e.modelValue,onOk:e.onOk,onCancel:e.onCancel,onBeforeOpen:e.onBeforeOpen,title:"Add time zone"},{default:v(()=>[u(d,{ref:"form"},{default:v(()=>[u(c,{modelValue:e.formData.name,"onUpdate:modelValue":o[0]||(o[0]=r=>e.formData.name=r),label:"Name",class:"mb-2",placeholder:"Kyiv",rules:[r=>r!=null&&r.length>0||"Required"]},null,8,["modelValue","rules"]),u(l,{modelValue:e.formData.timezone,"onUpdate:modelValue":o[1]||(o[1]=r=>e.formData.timezone=r),label:"Time zone","text-by":e.textBy,"track-by":"name",options:e.computedTimeZones,"group-by":r=>r.name.split("/")[0],searchable:"",rules:[r=>r!=null&&r||"Required"]},null,8,["modelValue","text-by","options","group-by","rules"])]),_:1},512)]),_:1},8,["model-value","onOk","onCancel","onBeforeOpen"])}var ue=O(se,[["render",de]]);const ie=C({components:{TimeZoneCard:re,AddTimeZoneModal:ue},setup(){const{toggle:e,clockColors:o}=Y(),{storage:n}=B("pref",{ampm:!1}),{storage:a}=B("timezones",[]),t=z(),{nowTimeOffset:s}=S(t),{now:c}=Z(),l=w(!1);return{preferences:n,clockColors:o,nowDate:c,doShowAddModal:l,timeZones:a,nowTimeOffset:s,formatDate:A,createTimeZone:p=>{a.value.push(p)},deleteTimeZone:p=>{a.value=a.value.filter(_=>_!==p)},toggleTheme:e,resetTime:()=>{const p=new Date;s.value=p.getHours()}}}}),ce={class:"app"},me={class:"container"},fe={class:"header d-flex justify--space-between align--center",style:{"flex-wrap":"wrap"}},pe={class:"display-1"},ve={class:"d-flex align--center"},ge=W("Add"),_e={class:"row",style:{margin:"0 -0.5rem"}};function we(e,o,n,a,t,s){const c=i("va-switch"),l=i("va-button"),d=i("AddTimeZoneModal"),m=i("va-slider"),r=i("va-divider"),p=i("TimeZoneCard"),_=i("va-card-content"),b=i("va-card");return T(),$("div",ce,[g("div",me,[u(b,null,{default:v(()=>[u(_,null,{default:v(()=>[g("div",fe,[g("h1",pe,h(e.formatDate(e.nowDate,e.preferences.ampm)),1),g("div",ve,[u(c,{modelValue:e.preferences.ampm,"onUpdate:modelValue":o[0]||(o[0]=f=>e.preferences.ampm=f),"true-inner-label":"12h","false-inner-label":"24h",color:"primary"},null,8,["modelValue"]),u(l,{class:"mx-2",icon:"palette",onClick:e.toggleTheme},null,8,["onClick"]),u(l,{"icon-right":"add",onClick:o[1]||(o[1]=f=>e.doShowAddModal=!0)},{default:v(()=>[ge]),_:1}),u(d,{modelValue:e.doShowAddModal,"onUpdate:modelValue":o[2]||(o[2]=f=>e.doShowAddModal=f),onCreate:e.createTimeZone},null,8,["modelValue","onCreate"])])]),u(m,{modelValue:e.nowTimeOffset,"onUpdate:modelValue":o[3]||(o[3]=f=>e.nowTimeOffset=f),min:1,max:24,"track-label-visible":""},{append:v(()=>[u(l,{icon:"restart_alt",flat:"",class:"ml-2",onClick:e.resetTime},null,8,["onClick"])]),_:1},8,["modelValue"]),u(r),g("div",_e,[(T(!0),$(F,null,H(e.timeZones,(f,N)=>(T(),$("div",{key:f.name,class:"flex lg4 md6 sm12 xs12 pa-2"},[u(p,{name:f.name,offset:f.offset*60,timezone:f.timezone,color:e.clockColors[N],ampm:e.preferences.ampm,onDelete:be=>e.deleteTimeZone(f)},null,8,["name","offset","timezone","color","ampm","onDelete"])]))),128))])]),_:1})]),_:1})])])}var Te=O(ie,[["render",we]]);P(Te).use(R({config:{components:{VaCard:{color:"card-background"}}}})).use(J()).mount("#app");
