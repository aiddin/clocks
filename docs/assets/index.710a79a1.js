import{o as C,a as k,d as b,c as w,r as _,b as d,e as $,w as v,f as y,g as i,h as f,t as h,i as B,v as Z,j as V,_ as z,k as L,l as T,F as M,m as I,n as U,p as q,q as j}from"./vendor.557d9aa9.js";const J=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}};J();const D=(e,o)=>{let s=-1;C(()=>{s=setInterval(e,o)}),k(()=>{clearInterval(s)})},N=e=>{const[o,s]=e.split(":").map(n=>Number(n));return o*60+s};var O=(e,o)=>{const s=e.__vccOpts||e;for(const[l,n]of o)s[l]=n;return s};const E=b({props:{name:{type:String,default:"Kyiv"},timezone:{type:Object,required:!0},color:{type:String},ampm:{type:Boolean,default:!1}},setup(e){const o=new Date().getTimezoneOffset(),s=w(()=>N(e.timezone.utc)+o),l=()=>{const a=new Date;return a.setTime(a.getTime()+s.value*1e3*60),a},n=a=>e.ampm==!0?a.toLocaleTimeString("en-US"):a.toLocaleTimeString("en-GB"),r=_(n(l()));return D(()=>{r.value=n(l())},1e3),{currentTime:r,timeZoneOffset:s}}}),K={class:"display-2"},F={class:"d-flex align--center justify--space-between"},G={class:"title"};function P(e,o,s,l,n,r){const a=d("va-divider"),m=d("va-button"),u=d("va-card-content"),p=d("va-hover"),t=d("va-card");return y(),$(t,{color:e.color,gradient:""},{default:v(()=>[i(p,{class:"time-zone-card",stateful:""},{default:v(({hover:g})=>[i(u,null,{default:v(()=>[f("h3",K,h(e.currentTime),1),i(a),f("div",F,[f("span",null,h(e.name),1),f("p",null,[f("span",G,"Offset "+h(e.timeZoneOffset/60)+"h",1)])]),B(i(m,{class:"time-zone-card__delete-button",icon:"close",size:"small",color:"danger",onClick:o[0]||(o[0]=S=>e.$emit("delete"))},null,512),[[Z,g]])]),_:2},1024)]),_:1})]),_:1},8,["color"])}var R=O(E,[["render",P],["__scopeId","data-v-6f297fc1"]]);const W=b({props:{modelValue:{type:Boolean,required:!0}},setup(e,{emit:o}){const s=_(),l=_({name:"",offset:"",timezone:null}),n=()=>{s.value.validate()&&l.value.timezone&&(o("create",l.value),o("update:modelValue",!1))},r=()=>{o("update:modelValue",!1)},a=()=>{l.value={name:"",offset:"",timezone:null}},m=w(()=>{const u=new Date().getTimezoneOffset();return l.value.offset?z.filter(p=>N(p.utc)+u===Number(l.value.offset)*60):z});return V(()=>l.value.timezone,u=>{!l.value.name&&u&&(l.value.name=u.label)}),{computedTimeZones:m,form:s,formData:l,onOk:n,onCancel:r,onBeforeOpen:a}}});function Y(e,o,s,l,n,r){const a=d("va-input"),m=d("va-select"),u=d("va-form"),p=d("va-modal");return y(),$(p,{"model-value":e.modelValue,onOk:e.onOk,onCancel:e.onCancel,onBeforeOpen:e.onBeforeOpen,title:"Add time zone"},{default:v(()=>[i(u,{style:{"max-width":"300px",width:"100vw"},ref:"form"},{default:v(()=>[i(a,{modelValue:e.formData.name,"onUpdate:modelValue":o[0]||(o[0]=t=>e.formData.name=t),label:"Name",class:"mb-4",placeholder:"Kyiv",rules:[t=>t!=null&&t.length>0||"Required"]},null,8,["modelValue","rules"]),i(a,{modelValue:e.formData.offset,"onUpdate:modelValue":o[1]||(o[1]=t=>e.formData.offset=t),label:"filter time zone by offset",class:"mb-2",placeholder:"2",mask:"numeral",rules:[t=>!t||!isNaN(t)||"Should be number",t=>!t||Number(t)<=24&&Number(t)>=-24||"Should in range from -24 to 24"]},null,8,["modelValue","rules"]),i(m,{modelValue:e.formData.timezone,"onUpdate:modelValue":o[2]||(o[2]=t=>e.formData.timezone=t),label:"Time zone","text-by":"label","track-by":"label",options:e.computedTimeZones,searchable:"",rules:[t=>t!=null&&t||"Required"]},null,8,["modelValue","options","rules"])]),_:1},512)]),_:1},8,["model-value","onOk","onCancel","onBeforeOpen"])}var H=O(W,[["render",Y]]);const Q=b({components:{TimeZoneCard:R,AddTimeZoneModal:H},setup(){const e=JSON.parse(localStorage.getItem("pref")||"null"),o=_(e||{ampm:!1});V(o,t=>{localStorage.setItem("pref",JSON.stringify(t))},{deep:!0});const s=["#4cc9f0","#ffc6ff","#06d6a0","#4ea8de","#f9c74f","#bdb2ff","#ffc6ff"],l=t=>o.value.ampm==!0?t.toLocaleTimeString("en-US"):t.toLocaleTimeString("en-GB"),n=_(l(new Date));D(()=>{n.value=l(new Date)},1e3);const r=_(!1),a=_([]),m="timezones",u=t=>{a.value.push(t),localStorage.setItem(m,JSON.stringify(a.value))},p=t=>{a.value=a.value.filter(g=>g!==t),localStorage.setItem(m,JSON.stringify(a.value))};return L(()=>{a.value=JSON.parse(localStorage.getItem(m)||"[]")}),{preferences:o,colors:s,currentTime:n,doShowAddModal:r,timeZones:a,createTimeZone:u,deleteTimeZone:p}}}),X={class:"app"},x={class:"container"},ee={class:"header d-flex justify--space-between align--center",style:{"flex-wrap":"wrap"}},oe={class:"display-1"},te={class:"d-flex align--center"},ne=U("Add"),ae={class:"row",style:{margin:"0 -0.5rem"}};function le(e,o,s,l,n,r){const a=d("va-switch"),m=d("va-button"),u=d("AddTimeZoneModal"),p=d("va-divider"),t=d("TimeZoneCard"),g=d("va-card-content"),S=d("va-card");return y(),T("div",X,[f("div",x,[i(S,null,{default:v(()=>[i(g,null,{default:v(()=>[f("div",ee,[f("h1",oe,h(e.currentTime),1),f("div",te,[i(a,{modelValue:e.preferences.ampm,"onUpdate:modelValue":o[0]||(o[0]=c=>e.preferences.ampm=c),"true-inner-label":"12h","false-inner-label":"24h"},null,8,["modelValue"]),i(m,{"icon-right":"add",onClick:o[1]||(o[1]=c=>e.doShowAddModal=!0)},{default:v(()=>[ne]),_:1}),i(u,{modelValue:e.doShowAddModal,"onUpdate:modelValue":o[2]||(o[2]=c=>e.doShowAddModal=c),onCreate:e.createTimeZone},null,8,["modelValue","onCreate"])])]),i(p),f("div",ae,[(y(!0),T(M,null,I(e.timeZones,(c,A)=>(y(),T("div",{key:c.name,class:"flex lg4 md6 sm12 xs12 pa-2"},[i(t,{name:c.name,offset:c.offset*60,timezone:c.timezone,color:e.colors[A],ampm:e.preferences.ampm,onDelete:se=>e.deleteTimeZone(c)},null,8,["name","offset","timezone","color","ampm","onDelete"])]))),128))])]),_:1})]),_:1})])])}var re=O(Q,[["render",le]]);q(re).use(j).mount("#app");
